{"ast":null,"code":"import\"./Home.scss\";import{useEffect,useState,useRef}from\"react\";import img from\"../../assets/img/logo.png\";import LetterSelector from\"../LetterSelector/LetterSelector\";import Popup from'reactjs-popup';import{useNavigate,NavLink}from\"react-router-dom\";import'reactjs-popup/dist/index.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){const[word,setWord]=useState(\"magnolia\");const inProgressRef=useRef(null);const remainingGuessesSpanRef=useRef(null);const playAgainRef=useRef(null);const[remainingGuesses,setRemainingGuesses]=useState(6);const[currentLetter,setCurrentLetter]=useState();const[open,setOpen]=useState(false);const[inProgress,setInProgress]=useState(null);const navigate=useNavigate();function inProgressHandler(currentWord){const wordInProgress=currentWord.split(\"\").map(()=>\"●\");if(inProgressRef.current){inProgressRef.current.innerText=wordInProgress.join(\"\");}}useEffect(()=>{axios.get(\"https://random-word-api.herokuapp.com/word\").then(response=>{setWord(response.data[0]);});},[]);useEffect(()=>{inProgressHandler(word);},[word]);useEffect(()=>{const winLink=document.getElementById(\"win-link\");if(inProgress===word.toUpperCase()){var _winLink$classList;(_winLink$classList=winLink.classList)===null||_winLink$classList===void 0?void 0:_winLink$classList.add(\"play-again__element\");}},[inProgress]);async function guessHandler(e){var _clickedLetter$classL;e.preventDefault();let contains=false;const wordArray=word.split(\"\");const wordInProgress=inProgressRef.current.innerText.split(\"\");const clickedLetter=document.getElementById(\"\".concat(e.target.value));wordArray.forEach((element,index)=>{if(element.toLowerCase()===e.target.value.toLowerCase()){wordInProgress[index]=e.target.value;inProgressRef.current.innerText=wordInProgress.join(\"\");setInProgress(wordInProgress.join(\"\"));contains=true;}});if(contains!==true){setRemainingGuesses(remainingGuesses-1);if(remainingGuesses-1===0){setOpen(true);}}(_clickedLetter$classL=clickedLetter.classList)===null||_clickedLetter$classL===void 0?void 0:_clickedLetter$classL.add(\"clicked\");}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"guess__container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:img,alt:\"Guess The Word logo\"})}),/*#__PURE__*/_jsx(\"p\",{ref:inProgressRef,className:\"word-in-progress\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"remaining\",children:[\"You have \",/*#__PURE__*/_jsxs(\"span\",{ref:remainingGuessesSpanRef,children:[remainingGuesses,\" guesses\"]}),\" remaining.\"]}),/*#__PURE__*/_jsx(\"form\",{className:\"guess-form\",children:/*#__PURE__*/_jsx(LetterSelector,{guess:guessHandler})}),/*#__PURE__*/_jsxs(\"form\",{className:\"win-form\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"play-again__element\",type:\"submit\",children:\"Restart\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/dictionary/\".concat(word),id:\"win-link\",children:\"\".concat(word.toUpperCase(),\": View Definition\")})]}),/*#__PURE__*/_jsx(Popup,{open:open,position:\"center center\",closeOnDocumentClick:false,children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"guess__popup--close\",onClick:()=>window.close(),children:\"Close\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"YOU LOSE\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/dictionary/\".concat(word),id:\"win-link\",className:\"play-again__element\",children:\"\".concat(word.toUpperCase(),\": View Definition\")}),/*#__PURE__*/_jsx(\"button\",{ref:playAgainRef,className:\"play-again__element\",type:\"submit\",children:\"Play Again!\"})]})})]})});}export default Home;","map":{"version":3,"names":["useEffect","useState","useRef","img","LetterSelector","Popup","useNavigate","NavLink","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","word","setWord","inProgressRef","remainingGuessesSpanRef","playAgainRef","remainingGuesses","setRemainingGuesses","currentLetter","setCurrentLetter","open","setOpen","inProgress","setInProgress","navigate","inProgressHandler","currentWord","wordInProgress","split","map","current","innerText","join","get","then","response","data","winLink","document","getElementById","toUpperCase","_winLink$classList","classList","add","guessHandler","e","_clickedLetter$classL","preventDefault","contains","wordArray","clickedLetter","concat","target","value","forEach","element","index","toLowerCase","children","className","src","alt","ref","guess","type","to","id","position","closeOnDocumentClick","onClick","window","close"],"sources":["C:/Users/willi/OneDrive/Software Engineering/Brainstation/projects/guess-the-word/frontend/src/components/Home/Home.js"],"sourcesContent":["import \"./Home.scss\"\r\nimport { useEffect, useState, useRef } from \"react\"\r\nimport img from \"../../assets/img/logo.png\"\r\nimport LetterSelector from \"../LetterSelector/LetterSelector\"\r\nimport Popup from 'reactjs-popup';\r\nimport { useNavigate, NavLink } from \"react-router-dom\"\r\nimport 'reactjs-popup/dist/index.css';\r\nimport axios from 'axios'\r\nfunction Home() {\r\n  const [word, setWord] = useState(\"magnolia\")\r\n  const inProgressRef = useRef(null)\r\n  const remainingGuessesSpanRef = useRef(null)\r\n  const playAgainRef = useRef(null)\r\n  const [remainingGuesses, setRemainingGuesses] = useState(6)\r\n  const [currentLetter, setCurrentLetter] = useState()\r\n  const [open, setOpen] = useState(false);\r\n  const [inProgress, setInProgress] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  function inProgressHandler(currentWord) {\r\n    const wordInProgress = currentWord.split(\"\").map(() => \"●\")\r\n    if (inProgressRef.current) {\r\n      inProgressRef.current.innerText = wordInProgress.join(\"\")\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    axios.get(\"https://random-word-api.herokuapp.com/word\")\r\n      .then((response) => {\r\n        setWord(response.data[0])\r\n      })\r\n\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    inProgressHandler(word)\r\n\r\n  }, [word]);\r\n  useEffect(()=>{\r\n    const winLink =document.getElementById(\"win-link\")\r\n    if(inProgress===word.toUpperCase()){\r\n     winLink.classList?.add(\"play-again__element\")\r\n    }\r\n   \r\n  }, [inProgress]) \r\n  \r\n\r\n  async function guessHandler(e) {\r\n    e.preventDefault()\r\n    let contains = false\r\n    const wordArray = word.split(\"\")\r\n    const wordInProgress = inProgressRef.current.innerText.split(\"\")\r\n    const clickedLetter = document.getElementById(`${e.target.value}`)\r\n    wordArray.forEach((element, index) => {\r\n      if (element.toLowerCase() === e.target.value.toLowerCase()) {\r\n        wordInProgress[index] = e.target.value\r\n        inProgressRef.current.innerText = wordInProgress.join(\"\")\r\n        setInProgress(wordInProgress.join(\"\"))\r\n        contains = true\r\n      }\r\n    })\r\n    if (contains !== true){\r\n      setRemainingGuesses(remainingGuesses - 1)\r\n      if (remainingGuesses-1 === 0){\r\n        setOpen(true)\r\n      }\r\n    }\r\n    clickedLetter.classList?.add(\"clicked\")\r\n\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"guess__container\">\r\n        <h1>\r\n          <img className=\"logo\" src={img} alt=\"Guess The Word logo\" />\r\n        </h1>\r\n        <p ref={inProgressRef} className=\"word-in-progress\"></p>\r\n        <p className=\"remaining\">You have <span ref={remainingGuessesSpanRef}>{remainingGuesses} guesses</span> remaining.</p>\r\n        <form className=\"guess-form\">\r\n          <LetterSelector guess={guessHandler} />\r\n        </form>\r\n        <form className=\"win-form\">\r\n          <button className=\"play-again__element\" type=\"submit\">Restart</button>\r\n    <NavLink to={`/dictionary/${word}`} id=\"win-link\">{`${word.toUpperCase()}: View Definition`}</NavLink>\r\n        </form>\r\n        <Popup open={open} position=\"center center\" closeOnDocumentClick={false}>\r\n          <form>\r\n            <button className=\"guess__popup--close\" onClick={() => window.close()}>Close</button>\r\n            <h1>YOU LOSE</h1>\r\n            <NavLink to={`/dictionary/${word}`} id=\"win-link\" className=\"play-again__element\">{`${word.toUpperCase()}: View Definition`}</NavLink>\r\n            <button ref={playAgainRef} className=\"play-again__element\" type=\"submit\">Play Again!</button>\r\n          </form>\r\n        </Popup>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}